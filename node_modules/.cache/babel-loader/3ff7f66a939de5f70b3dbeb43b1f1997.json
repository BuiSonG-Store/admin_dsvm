{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/SonBui/OneDrive/M\\xE1y t\\xEDnh/dacsanvungmien_frontent/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"C:/Users/SonBui/OneDrive/M\\xE1y t\\xEDnh/dacsanvungmien_frontent/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\SonBui\\\\OneDrive\\\\M\\xE1y t\\xEDnh\\\\dacsanvungmien_frontent\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import*as Yup from'yup';import{useFormik,Form,FormikProvider}from'formik';// material\nimport{Stack,TextField}from'@mui/material';import{LoadingButton}from'@mui/lab';import{unwrapResult}from'@reduxjs/toolkit';import{useDispatch}from'react-redux';import{editUser}from'../../store/slice/user';import{userRegister}from'../../store/slice/register';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CreateForm(props){var dispatch=useDispatch();var userEdit=props.dataEdit;var formValue={Name:userEdit?userEdit.name:'',AccountPassword:userEdit?userEdit.accountPassword:'',PhoneNumber:userEdit?userEdit.phoneNumber:'',Gmail:userEdit?userEdit.gmail:''};var initialValues=userEdit?_objectSpread(_objectSpread({},formValue),{},{FaceBook:userEdit.facebook,UserAddress:userEdit.userAddress}):formValue;var UserSchema=Yup.object().shape({Name:Yup.string().required(),AccountPassword:Yup.string().required(),PhoneNumber:Yup.string().required().max(10),UserAddress:Yup.string().required(),Gmail:Yup.string().required().email()});var formik=useFormik({initialValues:initialValues,validationSchema:UserSchema,onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values,_ref){var resetForm,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:resetForm=_ref.resetForm;_context.prev=1;_context.next=4;return userEdit;case 4:if(!_context.sent){_context.next=8;break;}_context.t0=dispatch(editUser({id:userEdit.id,name:values.Name,accountPassword:values.AccountPassword,phoneNumber:values.PhoneNumber,userAddress:values.UserAddress,facebook:values.FaceBook,gmail:values.Gmail}));_context.next=9;break;case 8:_context.t0=dispatch(userRegister({name:values.Name,accountPassword:values.AccountPassword,phoneNumber:values.PhoneNumber,gmail:values.Gmail}));case 9:res=_context.t0;unwrapResult(res);props.handleSubmit(res);resetForm();_context.next=18;break;case 15:_context.prev=15;_context.t1=_context[\"catch\"](1);console.log(_context.t1);case 18:case\"end\":return _context.stop();}}},_callee,null,[[1,15]]);}));function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments);}return onSubmit;}()});var errors=formik.errors,touched=formik.touched,values=formik.values,isSubmitting=formik.isSubmitting,handleSubmit=formik.handleSubmit,getFieldProps=formik.getFieldProps;return/*#__PURE__*/_jsx(FormikProvider,{value:formik,children:/*#__PURE__*/_jsxs(Form,{autoComplete:\"off\",noValidate:true,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Stack,{spacing:3,children:[/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({fullWidth:true,autoComplete:\"Name\",type:\"text\",label:\"Name\",value:values.Name},getFieldProps('Name')),{},{error:Boolean(touched.Name&&errors.Name),helperText:touched.Name&&errors.Name})),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({fullWidth:true,autoComplete:\"AccountPassword\",type:\"password\",label:\"Password\",value:values.AccountPassword},getFieldProps('AccountPassword')),{},{error:Boolean(touched.AccountPassword&&errors.AccountPassword),helperText:touched.AccountPassword&&errors.AccountPassword})),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({fullWidth:true,autoComplete:\"PhoneNumber\",type:\"text\",label:\"PhoneNumber\",value:values.PhoneNumber},getFieldProps('PhoneNumber')),{},{error:Boolean(touched.PhoneNumber&&errors.PhoneNumber),helperText:touched.PhoneNumber&&errors.PhoneNumber})),userEdit&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({fullWidth:true,autoComplete:\"UserAddress\",type:\"text\",label:\"Address\",value:values.UserAddress},getFieldProps('UserAddress')),{},{error:Boolean(touched.UserAddress&&errors.UserAddress),helperText:touched.UserAddress&&errors.UserAddress})),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({fullWidth:true,autoComplete:\"FaceBook\",type:\"text\",label:\"FaceBook\",value:values.FaceBook},getFieldProps('FaceBook')),{},{error:Boolean(touched.FaceBook&&errors.FaceBook),helperText:touched.FaceBook&&errors.FaceBook}))]}),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({fullWidth:true,autoComplete:\"Gmail\",type:\"text\",label:\"Gmail\",value:values.Gmail},getFieldProps('Gmail')),{},{error:Boolean(touched.Gmail&&errors.Gmail),helperText:touched.Gmail&&errors.Gmail}))]}),/*#__PURE__*/_jsx(LoadingButton,{fullWidth:true,size:\"large\",type:\"submit\",variant:\"contained\",loading:isSubmitting,children:\"Submit\"})]})});}","map":{"version":3,"sources":["C:/Users/SonBui/OneDrive/Máy tính/dacsanvungmien_frontent/src/components/users/CreateForm.js"],"names":["Yup","useFormik","Form","FormikProvider","Stack","TextField","LoadingButton","unwrapResult","useDispatch","editUser","userRegister","CreateForm","props","dispatch","userEdit","dataEdit","formValue","Name","name","AccountPassword","accountPassword","PhoneNumber","phoneNumber","Gmail","gmail","initialValues","FaceBook","facebook","UserAddress","userAddress","UserSchema","object","shape","string","required","max","email","formik","validationSchema","onSubmit","values","resetForm","id","res","handleSubmit","console","log","errors","touched","isSubmitting","getFieldProps","Boolean"],"mappings":"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","sourcesContent":["import * as Yup from 'yup';\r\nimport { useFormik, Form, FormikProvider } from 'formik';\r\n// material\r\nimport {\r\n    Stack,\r\n    TextField,\r\n} from '@mui/material';\r\nimport { LoadingButton } from '@mui/lab';\r\nimport { unwrapResult } from '@reduxjs/toolkit';\r\nimport { useDispatch } from 'react-redux';\r\nimport {editUser} from '../../store/slice/user';\r\nimport {userRegister} from '../../store/slice/register';\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function CreateForm(props) {\r\n    const dispatch=useDispatch();\r\n    const userEdit=props.dataEdit;\r\n    const formValue={\r\n        Name: userEdit?userEdit.name:'',\r\n        AccountPassword: userEdit?userEdit.accountPassword:'',\r\n        PhoneNumber: userEdit?userEdit.phoneNumber:'',\r\n        Gmail:userEdit?userEdit.gmail:'',\r\n    };\r\n\r\n    const initialValues=userEdit?{...formValue,FaceBook:userEdit.facebook,UserAddress: userEdit.userAddress}:formValue;\r\n\r\n    const UserSchema = Yup.object().shape({\r\n        Name: Yup.string().required(),\r\n        AccountPassword: Yup.string().required(),\r\n        PhoneNumber: Yup.string().required().max(10),\r\n        UserAddress: Yup.string().required(),\r\n        Gmail: Yup.string().required().email(),\r\n    });\r\n\r\n    const formik = useFormik({\r\n        initialValues,\r\n        validationSchema: UserSchema,\r\n        onSubmit: async (values,{resetForm}) => {\r\n            try {\r\n                const res = await userEdit ?\r\n                    dispatch(editUser({\r\n                        id:userEdit.id,\r\n                        name: values.Name,\r\n                        accountPassword: values.AccountPassword,\r\n                        phoneNumber: values.PhoneNumber,\r\n                        userAddress: values.UserAddress,\r\n                        facebook: values.FaceBook,\r\n                        gmail: values.Gmail,\r\n                    }))\r\n                    :dispatch(userRegister({\r\n                        name: values.Name,\r\n                        accountPassword: values.AccountPassword,\r\n                        phoneNumber: values.PhoneNumber,\r\n                        gmail: values.Gmail,\r\n                    }))\r\n                ;\r\n                unwrapResult(res);\r\n                props.handleSubmit(res);\r\n                resetForm();\r\n            } catch (e) {\r\n                console.log(e);\r\n            }\r\n        }\r\n    });\r\n\r\n    const { errors, touched, values, isSubmitting, handleSubmit, getFieldProps } = formik;\r\n\r\n    return (\r\n        <FormikProvider value={formik}>\r\n            <Form autoComplete='off' noValidate onSubmit={handleSubmit}>\r\n                <Stack spacing={3}>\r\n                    <TextField\r\n                        fullWidth\r\n                        autoComplete='Name'\r\n                        type='text'\r\n                        label='Name'\r\n                        value={values.Name}\r\n                        {...getFieldProps('Name')}\r\n                        error={Boolean(touched.Name && errors.Name)}\r\n                        helperText={touched.Name && errors.Name}\r\n                    />\r\n                    <TextField\r\n                        fullWidth\r\n                        autoComplete='AccountPassword'\r\n                        type='password'\r\n                        label='Password'\r\n                        value={values.AccountPassword}\r\n                        {...getFieldProps('AccountPassword')}\r\n                        error={Boolean(touched.AccountPassword && errors.AccountPassword)}\r\n                        helperText={touched.AccountPassword && errors.AccountPassword}\r\n                    />\r\n                    <TextField\r\n                        fullWidth\r\n                        autoComplete='PhoneNumber'\r\n                        type='text'\r\n                        label='PhoneNumber'\r\n                        value={values.PhoneNumber}\r\n                        {...getFieldProps('PhoneNumber')}\r\n                        error={Boolean(touched.PhoneNumber && errors.PhoneNumber)}\r\n                        helperText={touched.PhoneNumber && errors.PhoneNumber}\r\n                    />\r\n\r\n                    {userEdit&&<><TextField\r\n                        fullWidth\r\n                        autoComplete='UserAddress'\r\n                        type='text'\r\n                        label='Address'\r\n                        value={values.UserAddress}\r\n                        {...getFieldProps('UserAddress')}\r\n                        error={Boolean(touched.UserAddress && errors.UserAddress)}\r\n                        helperText={touched.UserAddress && errors.UserAddress}\r\n                    />\r\n                    <TextField\r\n                        fullWidth\r\n                        autoComplete='FaceBook'\r\n                        type='text'\r\n                        label='FaceBook'\r\n                        value={values.FaceBook}\r\n                        {...getFieldProps('FaceBook')}\r\n                        error={Boolean(touched.FaceBook && errors.FaceBook)}\r\n                        helperText={touched.FaceBook && errors.FaceBook}\r\n                    /></>}\r\n                    <TextField\r\n                        fullWidth\r\n                        autoComplete='Gmail'\r\n                        type='text'\r\n                        label='Gmail'\r\n                        value={values.Gmail}\r\n                        {...getFieldProps('Gmail')}\r\n                        error={Boolean(touched.Gmail && errors.Gmail)}\r\n                        helperText={touched.Gmail && errors.Gmail}\r\n                    />\r\n                </Stack>\r\n\r\n                <LoadingButton\r\n                    fullWidth\r\n                    size='large'\r\n                    type='submit'\r\n                    variant='contained'\r\n                    loading={isSubmitting}\r\n                >\r\n                    Submit\r\n                </LoadingButton>\r\n            </Form>\r\n        </FormikProvider>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}