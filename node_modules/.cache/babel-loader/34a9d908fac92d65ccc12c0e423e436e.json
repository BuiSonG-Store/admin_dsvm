{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/SonBui/OneDrive/M\\xE1y t\\xEDnh/dacsanvungmien_frontent/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"C:/Users/SonBui/OneDrive/M\\xE1y t\\xEDnh/dacsanvungmien_frontent/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\SonBui\\\\OneDrive\\\\M\\xE1y t\\xEDnh\\\\dacsanvungmien_frontent\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import*as Yup from'yup';import{useFormik,Form,FormikProvider}from'formik';// material\nimport{Stack,TextField}from'@mui/material';import{LoadingButton}from'@mui/lab';import{unwrapResult}from'@reduxjs/toolkit';import{useDispatch}from'react-redux';import{createCategory,editCategory}from'../../store/slice/category';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CreateForm(props){var dispatch=useDispatch();var userEdit=props.dataEdit;var formValue={Name:userEdit?userEdit.name:''};var initialValues=userEdit?_objectSpread({},formValue):formValue;var UserSchema=Yup.object().shape({Name:Yup.string().required()});var formik=useFormik({initialValues:initialValues,validationSchema:UserSchema,onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values,_ref){var resetForm,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:resetForm=_ref.resetForm;_context.prev=1;_context.next=4;return userEdit;case 4:if(!_context.sent){_context.next=8;break;}_context.t0=dispatch(editCategory({id:userEdit.id,name:values.Name}));_context.next=9;break;case 8:_context.t0=dispatch(createCategory({name:values.Name}));case 9:res=_context.t0;unwrapResult(res);props.handleSubmit(res);resetForm();_context.next=18;break;case 15:_context.prev=15;_context.t1=_context[\"catch\"](1);console.log(_context.t1);case 18:case\"end\":return _context.stop();}}},_callee,null,[[1,15]]);}));function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments);}return onSubmit;}()});var errors=formik.errors,touched=formik.touched,values=formik.values,isSubmitting=formik.isSubmitting,handleSubmit=formik.handleSubmit,getFieldProps=formik.getFieldProps;return/*#__PURE__*/_jsx(FormikProvider,{value:formik,children:/*#__PURE__*/_jsxs(Form,{autoComplete:\"off\",noValidate:true,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Stack,{spacing:3,children:/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({fullWidth:true,autoComplete:\"Name\",type:\"text\",label:\"Name\",value:values.Name},getFieldProps('Name')),{},{error:Boolean(touched.Name&&errors.Name),helperText:touched.Name&&errors.Name}))}),/*#__PURE__*/_jsx(LoadingButton,{fullWidth:true,size:\"large\",type:\"submit\",variant:\"contained\",loading:isSubmitting,children:\"Submit\"})]})});}","map":{"version":3,"sources":["C:/Users/SonBui/OneDrive/Máy tính/dacsanvungmien_frontent/src/components/category/CreateForm.js"],"names":["Yup","useFormik","Form","FormikProvider","Stack","TextField","LoadingButton","unwrapResult","useDispatch","createCategory","editCategory","CreateForm","props","dispatch","userEdit","dataEdit","formValue","Name","name","initialValues","UserSchema","object","shape","string","required","formik","validationSchema","onSubmit","values","resetForm","id","res","handleSubmit","console","log","errors","touched","isSubmitting","getFieldProps","Boolean"],"mappings":"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","sourcesContent":["import * as Yup from 'yup';\r\nimport { useFormik, Form, FormikProvider } from 'formik';\r\n// material\r\nimport {\r\n    Stack,\r\n    TextField,\r\n} from '@mui/material';\r\nimport { LoadingButton } from '@mui/lab';\r\nimport { unwrapResult } from '@reduxjs/toolkit';\r\nimport { useDispatch } from 'react-redux';\r\nimport {createCategory,editCategory} from '../../store/slice/category';\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function CreateForm(props) {\r\n    const dispatch=useDispatch();\r\n    const userEdit=props.dataEdit;\r\n    const formValue={\r\n        Name: userEdit?userEdit.name:'',\r\n    };\r\n\r\n    const initialValues=userEdit?{...formValue}:formValue;\r\n\r\n    const UserSchema = Yup.object().shape({\r\n        Name: Yup.string().required(),\r\n    });\r\n\r\n    const formik = useFormik({\r\n        initialValues,\r\n        validationSchema: UserSchema,\r\n        onSubmit: async (values,{resetForm}) => {\r\n            try {\r\n                const res = await userEdit ?\r\n                    dispatch(editCategory({\r\n                        id:userEdit.id,\r\n                        name: values.Name,\r\n                    }))\r\n                    :dispatch(createCategory({\r\n                        name: values.Name,\r\n                    }))\r\n                ;\r\n                unwrapResult(res);\r\n                props.handleSubmit(res);\r\n                resetForm();\r\n            } catch (e) {\r\n                console.log(e);\r\n            }\r\n        }\r\n    });\r\n\r\n    const { errors, touched, values, isSubmitting, handleSubmit, getFieldProps } = formik;\r\n\r\n    return (\r\n        <FormikProvider value={formik}>\r\n            <Form autoComplete='off' noValidate onSubmit={handleSubmit}>\r\n                <Stack spacing={3}>\r\n                    <TextField\r\n                        fullWidth\r\n                        autoComplete='Name'\r\n                        type='text'\r\n                        label='Name'\r\n                        value={values.Name}\r\n                        {...getFieldProps('Name')}\r\n                        error={Boolean(touched.Name && errors.Name)}\r\n                        helperText={touched.Name && errors.Name}\r\n                    />\r\n                    \r\n                </Stack>\r\n\r\n                <LoadingButton\r\n                    fullWidth\r\n                    size='large'\r\n                    type='submit'\r\n                    variant='contained'\r\n                    loading={isSubmitting}\r\n                >\r\n                    Submit\r\n                </LoadingButton>\r\n            </Form>\r\n        </FormikProvider>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}