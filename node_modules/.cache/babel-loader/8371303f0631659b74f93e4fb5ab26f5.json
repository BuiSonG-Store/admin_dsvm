{"ast":null,"code":"import _defineProperty from\"C:/Users/SonBui/OneDrive/M\\xE1y t\\xEDnh/dacsanvungmien_frontent/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _asyncToGenerator from\"C:/Users/SonBui/OneDrive/M\\xE1y t\\xEDnh/dacsanvungmien_frontent/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import _regeneratorRuntime from\"C:\\\\Users\\\\SonBui\\\\OneDrive\\\\M\\xE1y t\\xEDnh\\\\dacsanvungmien_frontent\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{createAsyncThunk,createSlice}from'@reduxjs/toolkit';import{loginApi}from'../../api/login';var initialState={pending:false,success:false,isLogin:false,isLogout:false,failed:false,message:'',data:{}};export var userLogin=createAsyncThunk('login',/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(params){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return loginApi.login(params);case 2:res=_context.sent;return _context.abrupt(\"return\",res.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());var loginAndLogout=createSlice({name:'login',initialState:initialState,reducers:{logout:function logout(state){state.data={};state.isLogin=false;state.isLogout=true;}},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,userLogin.pending,function(state){state.pending=true;state.success=false;state.failed=false;}),_defineProperty(_extraReducers,userLogin.fulfilled,function(state,action){state.pending=false;state.success=true;state.data=action.payload;state.isLogin=true;state.isLogout=false;}),_defineProperty(_extraReducers,userLogin.rejected,function(state,action){state.pending=false;state.failed=true;state.message=action.error.message;}),_extraReducers)});export default loginAndLogout.reducer;var logout=loginAndLogout.actions.logout;export{logout};","map":{"version":3,"sources":["C:/Users/SonBui/OneDrive/Máy tính/dacsanvungmien_frontent/src/store/slice/loginAndLogout.js"],"names":["createAsyncThunk","createSlice","loginApi","initialState","pending","success","isLogin","isLogout","failed","message","data","userLogin","params","login","res","loginAndLogout","name","reducers","logout","state","extraReducers","fulfilled","action","payload","rejected","error","reducer","actions"],"mappings":"ieAAA,OAASA,gBAAT,CAA2BC,WAA3B,KAA8C,kBAA9C,CACA,OAASC,QAAT,KAAyB,iBAAzB,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,OAAO,CAAE,KADQ,CAEjBC,OAAO,CAAE,KAFQ,CAGjBC,OAAO,CAAE,KAHQ,CAIjBC,QAAQ,CAAE,KAJO,CAKjBC,MAAM,CAAE,KALS,CAMjBC,OAAO,CAAE,EANQ,CAOjBC,IAAI,CAAE,EAPW,CAArB,CASA,MAAO,IAAMC,CAAAA,SAAS,CAAGX,gBAAgB,CAAC,OAAD,0FAAU,iBAAOY,MAAP,gJAC7BV,CAAAA,QAAQ,CAACW,KAAT,CAAeD,MAAf,CAD6B,QACzCE,GADyC,+CAExCA,GAAG,CAACJ,IAFoC,wDAAV,+DAAlC,CAKP,GAAMK,CAAAA,cAAc,CAAGd,WAAW,CAAC,CAC/Be,IAAI,CAAE,OADyB,CAE/Bb,YAAY,CAAZA,YAF+B,CAG/Bc,QAAQ,CAAC,CACLC,MAAM,CAAC,gBAACC,KAAD,CAAS,CACZA,KAAK,CAACT,IAAN,CAAW,EAAX,CACAS,KAAK,CAACb,OAAN,CAAc,KAAd,CACAa,KAAK,CAACZ,QAAN,CAAe,IAAf,CACH,CALI,CAHsB,CAU/Ba,aAAa,mDACRT,SAAS,CAACP,OADF,CACY,SAACe,KAAD,CAAW,CAC5BA,KAAK,CAACf,OAAN,CAAgB,IAAhB,CACAe,KAAK,CAACd,OAAN,CAAe,KAAf,CACAc,KAAK,CAACX,MAAN,CAAa,KAAb,CACH,CALQ,iCAMRG,SAAS,CAACU,SANF,CAMc,SAACF,KAAD,CAAQG,MAAR,CAAmB,CACtCH,KAAK,CAACf,OAAN,CAAgB,KAAhB,CACAe,KAAK,CAACd,OAAN,CAAgB,IAAhB,CACAc,KAAK,CAACT,IAAN,CAAaY,MAAM,CAACC,OAApB,CACAJ,KAAK,CAACb,OAAN,CAAc,IAAd,CACAa,KAAK,CAACZ,QAAN,CAAe,KAAf,CACH,CAZQ,iCAaRI,SAAS,CAACa,QAbF,CAaa,SAACL,KAAD,CAAQG,MAAR,CAAmB,CACrCH,KAAK,CAACf,OAAN,CAAgB,KAAhB,CACAe,KAAK,CAACX,MAAN,CAAe,IAAf,CACAW,KAAK,CAACV,OAAN,CAAgBa,MAAM,CAACG,KAAP,CAAahB,OAA7B,CACH,CAjBQ,iBAVkB,CAAD,CAAlC,CA+BA,cAAeM,CAAAA,cAAc,CAACW,OAA9B,CACO,GAAOR,CAAAA,MAAP,CAAeH,cAAc,CAACY,OAA9B,CAAOT,MAAP,C","sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { loginApi } from '../../api/login';\r\n\r\nconst initialState = {\r\n    pending: false,\r\n    success: false,\r\n    isLogin: false,\r\n    isLogout: false,\r\n    failed: false,\r\n    message: '',\r\n    data: {},\r\n};\r\nexport const userLogin = createAsyncThunk('login', async (params) => {\r\n    const res = await loginApi.login(params);\r\n    return res.data;\r\n});\r\n\r\nconst loginAndLogout = createSlice({\r\n    name: 'login',\r\n    initialState,\r\n    reducers:{\r\n        logout:(state)=>{\r\n            state.data={};\r\n            state.isLogin=false;\r\n            state.isLogout=true;\r\n        }\r\n    },\r\n    extraReducers: {\r\n        [userLogin.pending]: (state) => {\r\n            state.pending = true;\r\n            state.success= false;\r\n            state.failed=false;\r\n        },\r\n        [userLogin.fulfilled]: (state, action) => {\r\n            state.pending = false;\r\n            state.success = true;\r\n            state.data = action.payload;\r\n            state.isLogin=true;\r\n            state.isLogout=false;\r\n        },\r\n        [userLogin.rejected]: (state, action) => {\r\n            state.pending = false;\r\n            state.failed = true;\r\n            state.message = action.error.message;\r\n        },\r\n    },\r\n});\r\n\r\nexport default loginAndLogout.reducer;\r\nexport const {logout}=loginAndLogout.actions;"]},"metadata":{},"sourceType":"module"}