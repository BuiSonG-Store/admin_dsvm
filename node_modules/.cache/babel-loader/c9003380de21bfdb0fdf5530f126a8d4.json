{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/SonBui/OneDrive/M\\xE1y t\\xEDnh/dacsanvungmien_frontent/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/SonBui/OneDrive/M\\xE1y t\\xEDnh/dacsanvungmien_frontent/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\SonBui\\\\OneDrive\\\\M\\xE1y t\\xEDnh\\\\dacsanvungmien_frontent\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{filter}from'lodash';import{useEffect,useState}from'react';// material\nimport{Card,Table,Stack,Checkbox,TableRow,TableBody,TableCell,Container,Typography,TableContainer,TablePagination}from'@mui/material';// components\nimport Page from'../components/Page';import Scrollbar from'../components/Scrollbar';import SearchNotFound from'../components/SearchNotFound';import{UserListHead}from'../components/_dashboard/user';import CategoryListToolbar from'../components/_dashboard/category/CategoryListToolbar';//\nimport{unwrapResult}from'@reduxjs/toolkit';import{useDispatch}from'react-redux';import{getRegions}from'../store/slice/region';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TABLE_HEAD=[{id:'name',label:'Name',alignRight:false}];// ----------------------------------------------------------------------\nfunction descendingComparator(a,b,orderBy){if(b[orderBy]<a[orderBy]){return-1;}if(b[orderBy]>a[orderBy]){return 1;}return 0;}function getComparator(order,orderBy){return order==='desc'?function(a,b){return descendingComparator(a,b,orderBy);}:function(a,b){return-descendingComparator(a,b,orderBy);};}function applySortFilter(array,comparator,query){var stabilizedThis=array.map(function(el,index){return[el,index];});stabilizedThis.sort(function(a,b){var order=comparator(a[0],b[0]);if(order!==0){return order;}return a[1]-b[1];});if(query){return filter(array,function(_user){return _user.name.toLowerCase().indexOf(query.toLowerCase())!==-1;});}return stabilizedThis.map(function(el){return el[0];});}export default function Category(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var dispatch=useDispatch();var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState('asc'),_useState6=_slicedToArray(_useState5,2),order=_useState6[0],setOrder=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),selected=_useState8[0],setSelected=_useState8[1];var _useState9=useState('name'),_useState10=_slicedToArray(_useState9,2),orderBy=_useState10[0],setOrderBy=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),filterName=_useState12[0],setFilterName=_useState12[1];var _useState13=useState(5),_useState14=_slicedToArray(_useState13,2),rowsPerPage=_useState14[0],setRowsPerPage=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),isDelete=_useState16[0],setIsDelete=_useState16[1];useEffect(function(){fetchData();},[isDelete]);var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return dispatch(getRegions());case 3:res=_context.sent;setData(res.payload['$values']);unwrapResult(res);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();var handleRequestSort=function handleRequestSort(event,property){var isAsc=orderBy===property&&order==='asc';setOrder(isAsc?'desc':'asc');setOrderBy(property);};var handleSelectAllClick=function handleSelectAllClick(event){if(event.target.checked){var newSelecteds=data.map(function(n){return n.name;});setSelected(newSelecteds);return;}setSelected([]);};var handleClick=function handleClick(event,id){var selectedIndex=selected.indexOf(id);var newSelected=[];if(selectedIndex===-1){newSelected=newSelected.concat(selected,id);}else if(selectedIndex===0){newSelected=newSelected.concat(selected.slice(1));}else if(selectedIndex===selected.length-1){newSelected=newSelected.concat(selected.slice(0,-1));}else if(selectedIndex>0){newSelected=newSelected.concat(selected.slice(0,selectedIndex),selected.slice(selectedIndex+1));}setSelected(newSelected);};var handleChangePage=function handleChangePage(event,newPage){setPage(newPage);};var handleChangeRowsPerPage=function handleChangeRowsPerPage(event){setRowsPerPage(parseInt(event.target.value,10));setPage(0);};var handleFilterByName=function handleFilterByName(event){setFilterName(event.target.value);};var handleDelete=function handleDelete(value){setSelected([]);value&&setIsDelete(value);};var emptyRows=page>0?Math.max(0,(1+page)*rowsPerPage-data.length):0;var filteredUsers=applySortFilter(data,getComparator(order,orderBy),filterName);var isUserNotFound=filteredUsers.length===0;return/*#__PURE__*/_jsx(Page,{title:\"User | Minimal-UI\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Stack,{direction:\"row\",alignItems:\"center\",justifyContent:\"space-between\",mb:5,children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Region\"})}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CategoryListToolbar,{numSelected:selected.length,selected:selected,handleDelete:handleDelete,filterName:filterName,onFilterName:handleFilterByName}),/*#__PURE__*/_jsx(Scrollbar,{children:/*#__PURE__*/_jsx(TableContainer,{sx:{minWidth:800},children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(UserListHead,{order:order,orderBy:orderBy,headLabel:TABLE_HEAD,rowCount:data.length,numSelected:selected.length,onRequestSort:handleRequestSort,onSelectAllClick:handleSelectAllClick}),/*#__PURE__*/_jsxs(TableBody,{children:[filteredUsers.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage).map(function(row){var id=row.id,name=row.name;var isItemSelected=selected.indexOf(id)!==-1;return/*#__PURE__*/_jsxs(TableRow,{hover:true,tabIndex:-1,role:\"checkbox\",selected:isItemSelected,\"aria-checked\":isItemSelected,children:[/*#__PURE__*/_jsx(TableCell,{padding:\"checkbox\",children:/*#__PURE__*/_jsx(Checkbox,{checked:isItemSelected,onChange:function onChange(event){return handleClick(event,id);}})}),/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",padding:\"none\",children:/*#__PURE__*/_jsx(Stack,{direction:\"row\",alignItems:\"center\",spacing:2,children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",noWrap:true,children:name})})})]},id);}),emptyRows>0&&/*#__PURE__*/_jsx(TableRow,{style:{height:53*emptyRows},children:/*#__PURE__*/_jsx(TableCell,{colSpan:6})})]}),isUserNotFound&&/*#__PURE__*/_jsx(TableBody,{children:/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{align:\"center\",colSpan:6,sx:{py:3},children:/*#__PURE__*/_jsx(SearchNotFound,{searchQuery:filterName})})})})]})})}),/*#__PURE__*/_jsx(TablePagination,{rowsPerPageOptions:[5,10,25],component:\"div\",count:data.length,rowsPerPage:rowsPerPage,page:page,onPageChange:handleChangePage,onRowsPerPageChange:handleChangeRowsPerPage})]})]})});}","map":{"version":3,"sources":["C:/Users/SonBui/OneDrive/Máy tính/dacsanvungmien_frontent/src/pages/Region.js"],"names":["filter","useEffect","useState","Card","Table","Stack","Checkbox","TableRow","TableBody","TableCell","Container","Typography","TableContainer","TablePagination","Page","Scrollbar","SearchNotFound","UserListHead","CategoryListToolbar","unwrapResult","useDispatch","getRegions","TABLE_HEAD","id","label","alignRight","descendingComparator","a","b","orderBy","getComparator","order","applySortFilter","array","comparator","query","stabilizedThis","map","el","index","sort","_user","name","toLowerCase","indexOf","Category","data","setData","dispatch","page","setPage","setOrder","selected","setSelected","setOrderBy","filterName","setFilterName","rowsPerPage","setRowsPerPage","isDelete","setIsDelete","fetchData","res","payload","console","log","handleRequestSort","event","property","isAsc","handleSelectAllClick","target","checked","newSelecteds","n","handleClick","selectedIndex","newSelected","concat","slice","length","handleChangePage","newPage","handleChangeRowsPerPage","parseInt","value","handleFilterByName","handleDelete","emptyRows","Math","max","filteredUsers","isUserNotFound","minWidth","row","isItemSelected","height","py"],"mappings":"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","sourcesContent":["import {filter} from 'lodash';\r\nimport {useEffect, useState} from 'react';\r\n// material\r\nimport {\r\n    Card,\r\n    Table,\r\n    Stack,\r\n    Checkbox,\r\n    TableRow,\r\n    TableBody,\r\n    TableCell,\r\n    Container,\r\n    Typography,\r\n    TableContainer,\r\n    TablePagination\r\n} from '@mui/material';\r\n// components\r\nimport Page from '../components/Page';\r\nimport Scrollbar from '../components/Scrollbar';\r\nimport SearchNotFound from '../components/SearchNotFound';\r\nimport {UserListHead} from '../components/_dashboard/user';\r\nimport CategoryListToolbar from '../components/_dashboard/category/CategoryListToolbar';\r\n//\r\nimport {unwrapResult} from '@reduxjs/toolkit';\r\nimport {useDispatch} from 'react-redux';\r\nimport { getRegions} from '../store/slice/region';\r\n\r\n\r\n// ----------------------------------------------------------------------\r\n\r\n\r\nconst TABLE_HEAD = [\r\n    {id: 'name', label: 'Name', alignRight: false}\r\n];\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n    if (b[orderBy] < a[orderBy]) {\r\n        return -1;\r\n    }\r\n    if (b[orderBy] > a[orderBy]) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n    return order === 'desc'\r\n        ? (a, b) => descendingComparator(a, b, orderBy)\r\n        : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\nfunction applySortFilter(array, comparator, query) {\r\n    const stabilizedThis = array.map((el, index) => [el, index]);\r\n    stabilizedThis.sort((a, b) => {\r\n        const order = comparator(a[0], b[0]);\r\n        if (order !== 0) {\r\n            return order;\r\n        }\r\n        return a[1] - b[1];\r\n    });\r\n    if (query) {\r\n        return filter(array, (_user) => _user.name.toLowerCase().indexOf(query.toLowerCase()) !== -1);\r\n    }\r\n    return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\nexport default function Category() {\r\n    const [data,setData]=useState([]);\r\n    const dispatch=useDispatch();\r\n    const [page, setPage] = useState(0);\r\n    const [order, setOrder] = useState('asc');\r\n    const [selected, setSelected] = useState([]);\r\n    const [orderBy, setOrderBy] = useState('name');\r\n    const [filterName, setFilterName] = useState('');\r\n    const [rowsPerPage, setRowsPerPage] = useState(5);\r\n    const [isDelete,setIsDelete]=useState([]);\r\n\r\n    useEffect(()=>{\r\n        fetchData();\r\n    },[isDelete]);\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n            const res = await dispatch(getRegions());\r\n            setData(res.payload['$values']);\r\n            unwrapResult(res);\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n\r\n    const handleRequestSort = (event, property) => {\r\n        const isAsc = orderBy === property && order === 'asc';\r\n        setOrder(isAsc ? 'desc' : 'asc');\r\n        setOrderBy(property);\r\n    };\r\n\r\n\r\n    const handleSelectAllClick = (event) => {\r\n        if (event.target.checked) {\r\n            const newSelecteds = data.map((n) => n.name);\r\n            setSelected(newSelecteds);\r\n            return;\r\n        }\r\n        setSelected([]);\r\n    };\r\n\r\n    const handleClick = (event, id) => {\r\n        const selectedIndex = selected.indexOf(id);\r\n        let newSelected = [];\r\n        if (selectedIndex === -1) {\r\n            newSelected = newSelected.concat(selected, id);\r\n        } else if (selectedIndex === 0) {\r\n            newSelected = newSelected.concat(selected.slice(1));\r\n        } else if (selectedIndex === selected.length - 1) {\r\n            newSelected = newSelected.concat(selected.slice(0, -1));\r\n        } else if (selectedIndex > 0) {\r\n            newSelected = newSelected.concat(\r\n                selected.slice(0, selectedIndex),\r\n                selected.slice(selectedIndex + 1)\r\n            );\r\n        }\r\n        setSelected(newSelected);\r\n    };\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(parseInt(event.target.value, 10));\r\n        setPage(0);\r\n    };\r\n\r\n    const handleFilterByName = (event) => {\r\n        setFilterName(event.target.value);\r\n    };\r\n\r\n    const handleDelete=(value)=>{\r\n        setSelected([]);\r\n        value&&setIsDelete(value);\r\n    };\r\n\r\n    const emptyRows = page > 0 ? Math.max(0, (1 + page) * rowsPerPage - data.length) : 0;\r\n\r\n    const filteredUsers = applySortFilter(data, getComparator(order, orderBy), filterName);\r\n\r\n    const isUserNotFound = filteredUsers.length === 0;\r\n\r\n    return (\r\n        <Page title=\"User | Minimal-UI\">\r\n            <Container>\r\n                <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" mb={5}>\r\n                    <Typography variant=\"h4\" gutterBottom>\r\n                        Region\r\n                    </Typography>\r\n\r\n                </Stack>\r\n                <Card>\r\n                    <CategoryListToolbar\r\n                        numSelected={selected.length}\r\n                        selected={selected}\r\n                        handleDelete={handleDelete}\r\n                        filterName={filterName}\r\n                        onFilterName={handleFilterByName}\r\n                    />\r\n\r\n                    <Scrollbar>\r\n                        <TableContainer sx={{minWidth: 800}}>\r\n                            <Table>\r\n                                <UserListHead\r\n                                    order={order}\r\n                                    orderBy={orderBy}\r\n                                    headLabel={TABLE_HEAD}\r\n                                    rowCount={data.length}\r\n                                    numSelected={selected.length}\r\n                                    onRequestSort={handleRequestSort}\r\n                                    onSelectAllClick={handleSelectAllClick}\r\n                                />\r\n                                <TableBody>\r\n                                    {filteredUsers\r\n                                        .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                                        .map((row) => {\r\n                                            const {id, name} = row;\r\n                                            const isItemSelected = selected.indexOf(id) !== -1;\r\n\r\n                                            return (\r\n                                                <TableRow\r\n                                                    hover\r\n                                                    key={id}\r\n                                                    tabIndex={-1}\r\n                                                    role=\"checkbox\"\r\n                                                    selected={isItemSelected}\r\n                                                    aria-checked={isItemSelected}\r\n                                                >\r\n                                                    <TableCell padding=\"checkbox\">\r\n                                                        <Checkbox\r\n                                                            checked={isItemSelected}\r\n                                                            onChange={(event) => handleClick(event, id)}\r\n                                                        />\r\n                                                    </TableCell>\r\n                                                    <TableCell component=\"th\" scope=\"row\" padding=\"none\">\r\n                                                        <Stack direction=\"row\" alignItems=\"center\" spacing={2}>\r\n                                                            <Typography variant=\"subtitle2\" noWrap>\r\n                                                                {name}\r\n                                                            </Typography>\r\n                                                        </Stack>\r\n                                                    </TableCell>\r\n                                                </TableRow>\r\n                                            );\r\n                                        })}\r\n                                    {emptyRows > 0 && (\r\n                                        <TableRow style={{height: 53 * emptyRows}}>\r\n                                            <TableCell colSpan={6}/>\r\n                                        </TableRow>\r\n                                    )}\r\n                                </TableBody>\r\n                                {isUserNotFound && (\r\n                                    <TableBody>\r\n                                        <TableRow>\r\n                                            <TableCell align=\"center\" colSpan={6} sx={{py: 3}}>\r\n                                                <SearchNotFound searchQuery={filterName}/>\r\n                                            </TableCell>\r\n                                        </TableRow>\r\n                                    </TableBody>\r\n                                )}\r\n                            </Table>\r\n                        </TableContainer>\r\n                    </Scrollbar>\r\n\r\n                    <TablePagination\r\n                        rowsPerPageOptions={[5, 10, 25]}\r\n                        component=\"div\"\r\n                        count={data.length}\r\n                        rowsPerPage={rowsPerPage}\r\n                        page={page}\r\n                        onPageChange={handleChangePage}\r\n                        onRowsPerPageChange={handleChangeRowsPerPage}\r\n                    />\r\n                </Card>\r\n            </Container>\r\n        </Page>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}