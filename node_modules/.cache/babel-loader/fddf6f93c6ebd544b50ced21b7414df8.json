{"ast":null,"code":"import _slicedToArray from\"C:/Users/SonBui/OneDrive/M\\xE1y t\\xEDnh/dacsanvungmien_frontent/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"C:/Users/SonBui/OneDrive/M\\xE1y t\\xEDnh/dacsanvungmien_frontent/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import faker from'faker';import{noCase}from'change-case';import{useRef,useState}from'react';import{Link as RouterLink}from'react-router-dom';import{set,sub,formatDistanceToNow}from'date-fns';import{Icon}from'@iconify/react';import bellFill from'@iconify/icons-eva/bell-fill';import clockFill from'@iconify/icons-eva/clock-fill';import doneAllFill from'@iconify/icons-eva/done-all-fill';// material\nimport{alpha}from'@mui/material/styles';import{Box,List,Badge,Button,Avatar,Tooltip,Divider,IconButton,Typography,ListItemText,ListSubheader,ListItemAvatar,ListItemButton}from'@mui/material';// utils\nimport{mockImgAvatar}from'../../utils/mockImages';// components\nimport Scrollbar from'../../components/Scrollbar';import MenuPopover from'../../components/MenuPopover';// ----------------------------------------------------------------------\nimport{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var NOTIFICATIONS=[{id:faker.datatype.uuid(),title:'Your order is placed',description:'waiting for shipping',avatar:null,type:'order_placed',createdAt:set(new Date(),{hours:10,minutes:30}),isUnRead:true},{id:faker.datatype.uuid(),title:faker.name.findName(),description:'answered to your comment on the Minimal',avatar:mockImgAvatar(2),type:'friend_interactive',createdAt:sub(new Date(),{hours:3,minutes:30}),isUnRead:true},{id:faker.datatype.uuid(),title:'You have new message',description:'5 unread messages',avatar:null,type:'chat_message',createdAt:sub(new Date(),{days:1,hours:3,minutes:30}),isUnRead:false},{id:faker.datatype.uuid(),title:'You have new mail',description:'sent from Guido Padberg',avatar:null,type:'mail',createdAt:sub(new Date(),{days:2,hours:3,minutes:30}),isUnRead:false},{id:faker.datatype.uuid(),title:'Delivery processing',description:'Your order is being shipped',avatar:null,type:'order_shipped',createdAt:sub(new Date(),{days:3,hours:3,minutes:30}),isUnRead:false}];function renderContent(notification){var title=/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle2\",children:[notification.title,/*#__PURE__*/_jsxs(Typography,{component:\"span\",variant:\"body2\",sx:{color:'text.secondary'},children:[\"\\xA0 \",noCase(notification.description)]})]});if(notification.type==='order_placed'){return{avatar:/*#__PURE__*/_jsx(\"img\",{alt:notification.title,src:\"/static/icons/ic_notification_package.svg\"}),title:title};}if(notification.type==='order_shipped'){return{avatar:/*#__PURE__*/_jsx(\"img\",{alt:notification.title,src:\"/static/icons/ic_notification_shipping.svg\"}),title:title};}if(notification.type==='mail'){return{avatar:/*#__PURE__*/_jsx(\"img\",{alt:notification.title,src:\"/static/icons/ic_notification_mail.svg\"}),title:title};}if(notification.type==='chat_message'){return{avatar:/*#__PURE__*/_jsx(\"img\",{alt:notification.title,src:\"/static/icons/ic_notification_chat.svg\"}),title:title};}return{avatar:/*#__PURE__*/_jsx(\"img\",{alt:notification.title,src:notification.avatar}),title:title};}function NotificationItem(_ref){var notification=_ref.notification;var _renderContent=renderContent(notification),avatar=_renderContent.avatar,title=_renderContent.title;return/*#__PURE__*/_jsxs(ListItemButton,{to:\"#\",disableGutters:true,component:RouterLink,sx:_objectSpread({py:1.5,px:2.5,mt:'1px'},notification.isUnRead&&{bgcolor:'action.selected'}),children:[/*#__PURE__*/_jsx(ListItemAvatar,{children:/*#__PURE__*/_jsx(Avatar,{sx:{bgcolor:'background.neutral'},children:avatar})}),/*#__PURE__*/_jsx(ListItemText,{primary:title,secondary:/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",sx:{mt:0.5,display:'flex',alignItems:'center',color:'text.disabled'},children:[/*#__PURE__*/_jsx(Box,{component:Icon,icon:clockFill,sx:{mr:0.5,width:16,height:16}}),formatDistanceToNow(new Date(notification.createdAt))]})})]});}export default function NotificationsPopover(){var anchorRef=useRef(null);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(NOTIFICATIONS),_useState4=_slicedToArray(_useState3,2),notifications=_useState4[0],setNotifications=_useState4[1];var totalUnRead=notifications.filter(function(item){return item.isUnRead===true;}).length;var handleOpen=function handleOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var handleMarkAllAsRead=function handleMarkAllAsRead(){setNotifications(notifications.map(function(notification){return _objectSpread(_objectSpread({},notification),{},{isUnRead:false});}));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IconButton,{ref:anchorRef,size:\"large\",color:open?'primary':'default',onClick:handleOpen,sx:_objectSpread({},open&&{bgcolor:function bgcolor(theme){return alpha(theme.palette.primary.main,theme.palette.action.focusOpacity);}}),children:/*#__PURE__*/_jsx(Badge,{badgeContent:totalUnRead,color:\"error\",children:/*#__PURE__*/_jsx(Icon,{icon:bellFill,width:20,height:20})})}),/*#__PURE__*/_jsxs(MenuPopover,{open:open,onClose:handleClose,anchorEl:anchorRef.current,sx:{width:360},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',py:2,px:2.5},children:[/*#__PURE__*/_jsxs(Box,{sx:{flexGrow:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Notifications\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{color:'text.secondary'},children:[\"You have \",totalUnRead,\" unread messages\"]})]}),totalUnRead>0&&/*#__PURE__*/_jsx(Tooltip,{title:\" Mark all as read\",children:/*#__PURE__*/_jsx(IconButton,{color:\"primary\",onClick:handleMarkAllAsRead,children:/*#__PURE__*/_jsx(Icon,{icon:doneAllFill,width:20,height:20})})})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Scrollbar,{sx:{height:{xs:340,sm:'auto'}},children:[/*#__PURE__*/_jsx(List,{disablePadding:true,subheader:/*#__PURE__*/_jsx(ListSubheader,{disableSticky:true,sx:{py:1,px:2.5,typography:'overline'},children:\"New\"}),children:notifications.slice(0,2).map(function(notification){return/*#__PURE__*/_jsx(NotificationItem,{notification:notification},notification.id);})}),/*#__PURE__*/_jsx(List,{disablePadding:true,subheader:/*#__PURE__*/_jsx(ListSubheader,{disableSticky:true,sx:{py:1,px:2.5,typography:'overline'},children:\"Before that\"}),children:notifications.slice(2,5).map(function(notification){return/*#__PURE__*/_jsx(NotificationItem,{notification:notification},notification.id);})})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Box,{sx:{p:1},children:/*#__PURE__*/_jsx(Button,{fullWidth:true,disableRipple:true,component:RouterLink,to:\"#\",children:\"View All\"})})]})]});}","map":{"version":3,"sources":["C:/Users/SonBui/OneDrive/Máy tính/dacsanvungmien_frontent/src/layouts/dashboard/NotificationsPopover.js"],"names":["faker","noCase","useRef","useState","Link","RouterLink","set","sub","formatDistanceToNow","Icon","bellFill","clockFill","doneAllFill","alpha","Box","List","Badge","Button","Avatar","Tooltip","Divider","IconButton","Typography","ListItemText","ListSubheader","ListItemAvatar","ListItemButton","mockImgAvatar","Scrollbar","MenuPopover","NOTIFICATIONS","id","datatype","uuid","title","description","avatar","type","createdAt","Date","hours","minutes","isUnRead","name","findName","days","renderContent","notification","color","NotificationItem","py","px","mt","bgcolor","display","alignItems","mr","width","height","NotificationsPopover","anchorRef","open","setOpen","notifications","setNotifications","totalUnRead","filter","item","length","handleOpen","handleClose","handleMarkAllAsRead","map","theme","palette","primary","main","action","focusOpacity","current","flexGrow","xs","sm","typography","slice","p"],"mappings":"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","sourcesContent":["import faker from 'faker';\r\nimport PropTypes from 'prop-types';\r\nimport { noCase } from 'change-case';\r\nimport { useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { set, sub, formatDistanceToNow } from 'date-fns';\r\nimport { Icon } from '@iconify/react';\r\nimport bellFill from '@iconify/icons-eva/bell-fill';\r\nimport clockFill from '@iconify/icons-eva/clock-fill';\r\nimport doneAllFill from '@iconify/icons-eva/done-all-fill';\r\n// material\r\nimport { alpha } from '@mui/material/styles';\r\nimport {\r\n    Box,\r\n    List,\r\n    Badge,\r\n    Button,\r\n    Avatar,\r\n    Tooltip,\r\n    Divider,\r\n    IconButton,\r\n    Typography,\r\n    ListItemText,\r\n    ListSubheader,\r\n    ListItemAvatar,\r\n    ListItemButton\r\n} from '@mui/material';\r\n// utils\r\nimport { mockImgAvatar } from '../../utils/mockImages';\r\n// components\r\nimport Scrollbar from '../../components/Scrollbar';\r\nimport MenuPopover from '../../components/MenuPopover';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst NOTIFICATIONS = [\r\n    {\r\n        id: faker.datatype.uuid(),\r\n        title: 'Your order is placed',\r\n        description: 'waiting for shipping',\r\n        avatar: null,\r\n        type: 'order_placed',\r\n        createdAt: set(new Date(), { hours: 10, minutes: 30 }),\r\n        isUnRead: true\r\n    },\r\n    {\r\n        id: faker.datatype.uuid(),\r\n        title: faker.name.findName(),\r\n        description: 'answered to your comment on the Minimal',\r\n        avatar: mockImgAvatar(2),\r\n        type: 'friend_interactive',\r\n        createdAt: sub(new Date(), { hours: 3, minutes: 30 }),\r\n        isUnRead: true\r\n    },\r\n    {\r\n        id: faker.datatype.uuid(),\r\n        title: 'You have new message',\r\n        description: '5 unread messages',\r\n        avatar: null,\r\n        type: 'chat_message',\r\n        createdAt: sub(new Date(), { days: 1, hours: 3, minutes: 30 }),\r\n        isUnRead: false\r\n    },\r\n    {\r\n        id: faker.datatype.uuid(),\r\n        title: 'You have new mail',\r\n        description: 'sent from Guido Padberg',\r\n        avatar: null,\r\n        type: 'mail',\r\n        createdAt: sub(new Date(), { days: 2, hours: 3, minutes: 30 }),\r\n        isUnRead: false\r\n    },\r\n    {\r\n        id: faker.datatype.uuid(),\r\n        title: 'Delivery processing',\r\n        description: 'Your order is being shipped',\r\n        avatar: null,\r\n        type: 'order_shipped',\r\n        createdAt: sub(new Date(), { days: 3, hours: 3, minutes: 30 }),\r\n        isUnRead: false\r\n    }\r\n];\r\n\r\nfunction renderContent(notification) {\r\n    const title = (\r\n        <Typography variant='subtitle2'>\r\n            {notification.title}\r\n            <Typography component='span' variant='body2' sx={{ color: 'text.secondary' }}>\r\n                &nbsp; {noCase(notification.description)}\r\n            </Typography>\r\n        </Typography>\r\n    );\r\n\r\n    if (notification.type === 'order_placed') {\r\n        return {\r\n            avatar: <img alt={notification.title} src='/static/icons/ic_notification_package.svg' />,\r\n            title\r\n        };\r\n    }\r\n    if (notification.type === 'order_shipped') {\r\n        return {\r\n            avatar: <img alt={notification.title} src='/static/icons/ic_notification_shipping.svg' />,\r\n            title\r\n        };\r\n    }\r\n    if (notification.type === 'mail') {\r\n        return {\r\n            avatar: <img alt={notification.title} src='/static/icons/ic_notification_mail.svg' />,\r\n            title\r\n        };\r\n    }\r\n    if (notification.type === 'chat_message') {\r\n        return {\r\n            avatar: <img alt={notification.title} src='/static/icons/ic_notification_chat.svg' />,\r\n            title\r\n        };\r\n    }\r\n    return {\r\n        avatar: <img alt={notification.title} src={notification.avatar} />,\r\n        title\r\n    };\r\n}\r\n\r\nNotificationItem.propTypes = {\r\n    notification: PropTypes.object.isRequired\r\n};\r\n\r\nfunction NotificationItem({ notification }) {\r\n    const { avatar, title } = renderContent(notification);\r\n\r\n    return (\r\n        <ListItemButton\r\n            to='#'\r\n            disableGutters\r\n            component={RouterLink}\r\n            sx={{\r\n                py: 1.5,\r\n                px: 2.5,\r\n                mt: '1px',\r\n                ...(notification.isUnRead && {\r\n                    bgcolor: 'action.selected'\r\n                })\r\n            }}\r\n        >\r\n            <ListItemAvatar>\r\n                <Avatar sx={{ bgcolor: 'background.neutral' }}>{avatar}</Avatar>\r\n            </ListItemAvatar>\r\n            <ListItemText\r\n                primary={title}\r\n                secondary={\r\n                    <Typography\r\n                        variant='caption'\r\n                        sx={{\r\n                            mt: 0.5,\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            color: 'text.disabled'\r\n                        }}\r\n                    >\r\n                        <Box component={Icon} icon={clockFill} sx={{ mr: 0.5, width: 16, height: 16 }} />\r\n                        {formatDistanceToNow(new Date(notification.createdAt))}\r\n                    </Typography>\r\n                }\r\n            />\r\n        </ListItemButton>\r\n    );\r\n}\r\n\r\nexport default function NotificationsPopover() {\r\n    const anchorRef = useRef(null);\r\n    const [open, setOpen] = useState(false);\r\n    const [notifications, setNotifications] = useState(NOTIFICATIONS);\r\n    const totalUnRead = notifications.filter((item) => item.isUnRead === true).length;\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleMarkAllAsRead = () => {\r\n        setNotifications(\r\n            notifications.map((notification) => ({\r\n                ...notification,\r\n                isUnRead: false\r\n            }))\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <IconButton\r\n                ref={anchorRef}\r\n                size='large'\r\n                color={open ? 'primary' : 'default'}\r\n                onClick={handleOpen}\r\n                sx={{\r\n                    ...(open && {\r\n                        bgcolor: (theme) => alpha(theme.palette.primary.main, theme.palette.action.focusOpacity)\r\n                    })\r\n                }}\r\n            >\r\n                <Badge badgeContent={totalUnRead} color='error'>\r\n                    <Icon icon={bellFill} width={20} height={20} />\r\n                </Badge>\r\n            </IconButton>\r\n\r\n            <MenuPopover\r\n                open={open}\r\n                onClose={handleClose}\r\n                anchorEl={anchorRef.current}\r\n                sx={{ width: 360 }}\r\n            >\r\n                <Box sx={{ display: 'flex', alignItems: 'center', py: 2, px: 2.5 }}>\r\n                    <Box sx={{ flexGrow: 1 }}>\r\n                        <Typography variant='subtitle1'>Notifications</Typography>\r\n                        <Typography variant='body2' sx={{ color: 'text.secondary' }}>\r\n                            You have {totalUnRead} unread messages\r\n                        </Typography>\r\n                    </Box>\r\n\r\n                    {totalUnRead > 0 && (\r\n                        <Tooltip title=' Mark all as read'>\r\n                            <IconButton color='primary' onClick={handleMarkAllAsRead}>\r\n                                <Icon icon={doneAllFill} width={20} height={20} />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    )}\r\n                </Box>\r\n\r\n                <Divider />\r\n\r\n                <Scrollbar sx={{ height: { xs: 340, sm: 'auto' } }}>\r\n                    <List\r\n                        disablePadding\r\n                        subheader={\r\n                            <ListSubheader disableSticky sx={{ py: 1, px: 2.5, typography: 'overline' }}>\r\n                                New\r\n                            </ListSubheader>\r\n                        }\r\n                    >\r\n                        {notifications.slice(0, 2).map((notification) => (\r\n                            <NotificationItem key={notification.id} notification={notification} />\r\n                        ))}\r\n                    </List>\r\n\r\n                    <List\r\n                        disablePadding\r\n                        subheader={\r\n                            <ListSubheader disableSticky sx={{ py: 1, px: 2.5, typography: 'overline' }}>\r\n                                Before that\r\n                            </ListSubheader>\r\n                        }\r\n                    >\r\n                        {notifications.slice(2, 5).map((notification) => (\r\n                            <NotificationItem key={notification.id} notification={notification} />\r\n                        ))}\r\n                    </List>\r\n                </Scrollbar>\r\n\r\n                <Divider />\r\n\r\n                <Box sx={{ p: 1 }}>\r\n                    <Button fullWidth disableRipple component={RouterLink} to='#'>\r\n                        View All\r\n                    </Button>\r\n                </Box>\r\n            </MenuPopover>\r\n        </>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}